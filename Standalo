'use server'
import { PrismaClient } from '@prisma/client'
import { revalidatePath } from 'next/cache'

const prisma = new PrismaClient()

export async function addTransaction(data: any) {
  await prisma.transaction.create({
    data: {
      amount: data.amount,
      date: new Date(data.date),
      categoryId: data.categoryId,
      subcategoryId: data.subcategoryId,
      week: data.week, // Lógica de cálculo de semana aquí
      notes: data.notes
    }
  })
  revalidatePath('/') // Actualiza la pantalla automáticamente
}